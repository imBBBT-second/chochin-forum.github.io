<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <title>ì´ˆì¹œ í¬ëŸ¼ (ë ˆë²¨ - í´ë˜ì‹)</title>

    <style>
      html,
      body {
        min-height: 100vh;
        height: 100%;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        background-color: #323232;
        display: flex;
        flex-direction: column;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      @font-face { font-family: Paperlogy1; src: url('font - paperlogy/Paperlogy-1.ttf'); }
      @font-face { font-family: Paperlogy2; src: url('font - paperlogy/Paperlogy-2.ttf'); }
      @font-face { font-family: Paperlogy3; src: url('font - paperlogy/Paperlogy-3.ttf'); }
      @font-face { font-family: Paperlogy4; src: url('font - paperlogy/Paperlogy-4.ttf'); }
      @font-face { font-family: Paperlogy5; src: url('font - paperlogy/Paperlogy-5.ttf'); }
      @font-face { font-family: Paperlogy6; src: url('font - paperlogy/Paperlogy-6.ttf'); }
      @font-face { font-family: Paperlogy7; src: url('font - paperlogy/Paperlogy-7.ttf'); }
      @font-face { font-family: Paperlogy8; src: url('font - paperlogy/Paperlogy-8.ttf'); }
      @font-face { font-family: Paperlogy9; src: url('font - paperlogy/Paperlogy-9.ttf'); }

      h1 { font-family: Paperlogy7; font-size: 170px; color: #fff; text-align: center; }
      h4 { font-family: Paperlogy3; font-size: 40px; color: #a0a0a0; text-align: center; }
      p  { font-family: Paperlogy2; color: #c8c8c8; text-align: center; }
      h1, h2, h3 {
        color: white;
      }

      .level-title,
      .level-subtitle,
      .clear-title {
        color: #ffffff;
      }
      
      a {
        text-decoration: none;
        color: inherit;
      }

      .section p,
      .section span {
        color: #c8c8c8;
        text-align: left;
      }

      .section-title {
        color: #ffffff;
      }

      .tag {
        color: #ffffff;
      }
      
      .detail-panel {
        color: #ffffff;
      }

      a {
        color: inherit;
        text-decoration: none;
      }


      
      .header-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 5vw;
        padding: 2vh 0;
        flex-wrap: wrap;
      }

      .header-btn-wrapper {
        width: 400px;
        display: flex;
        justify-content: center;
      }

      .header-btn {
        background-color: #323232;
        color: white;
        font-size: clamp(2rem, 5vw, 5rem);
        cursor: pointer;
        padding: 1.5vh 0;
        border: none;
        border-radius: 10px;
        width: 100%;
        font-family: Paperlogy5;
      }

      .divider {
        border: 2px solid white;
        width: 100%;
        margin: 10px 0;
      }

      .main-container {
        display: flex;
        gap: 2%;
        padding: 2%;
        flex: 1;
        min-height: 800px;
      }

      .container {
        width: 25%;
        background: #404040;
        padding: 1.5%;
        border-radius: 10px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      input {
        width: 100%;
        padding: 1%;
        margin-bottom: 2%;
        border: none;
        border-radius: 8px;
        font-size: 18px;
      }

      .item {
        display: flex;
        align-items: center;
        gap: 1%;
        padding: 1% 0;
        cursor: pointer;
        border-bottom: 1px solid #c0c0c0;
      }

      .rank {
        color: #fff;
        width: 10%;
        font-family: Paperlogy8;
        font-size: 2vw;
        text-align: center;
      }

      .info { flex: 1; }

      .title {
        font-family: Paperlogy5;
        font-size: 1.7vw;
        color: #fff;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .creator {
        font-family: Paperlogy3;
        font-size: 0.9vw;
        color: #e0e0e0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .detail-panel {
        flex: 1;
        background: #505050;
        padding: 2%;
        border-radius: 10px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
      }

      .detail-panel.clears-panel {
        width: 25%;
        flex: none;
      }

      .detail-title {
        height: 3.7vw;
        display: flex;
        justify-content: center;
        align-items: center;
        bottom: 10px;       }

      .detail-title-inner {
        font-family: Paperlogy9;
        font-size: 3vw;
        white-space: nowrap;
      }

      .video-wrapper {
        position: relative;
        width: 100%;
        padding-top: 56.25%;
        margin-bottom: 15px;
      }

      .video-wrapper iframe {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        border: none;
      }

      .detail-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }

      .section {
        grid-column: 1 / -1;
        background: #444;
        padding: 12px;
        border-radius: 8px;
      }

      .section-title {
        font-family: Paperlogy6;
        font-size: 22px;
        margin-bottom: 8px;
        color: #fff;
        text-align: left;
      }

      .tag {
        display: inline-block;
        background: #666;
        padding: 4px 8px;
        border-radius: 6px;
        margin: 3px;
        font-size: 14px;
      }
    </style>
  </head>

  <body>
    <!-- ğŸ”¼ í—¤ë” -->
    <div class="header-container">
      <a href="../index.html" class="header-btn-wrapper"><button class="header-btn">í™ˆ</button></a>
      <a href="../level.html" class="header-btn-wrapper"><button class="header-btn" style="font-family:Paperlogy9">ë ˆë²¨</button></a>
      <div class="header-btn-wrapper"><button class="header-btn">í•˜ë””ìŠ¤íŠ¸</button></div>
    </div>

    <div class="divider"></div>

    <div style="text-align:center; margin-top:20px">
      <h1>Classic</h1>
      <p style="font-size:32px">
        ì´ˆì¹œ ë©¤ë²„ë“¤ì´ ë§Œë“  ë ˆë²¨ë“¤ ì¤‘ 20ì´ˆ ì´ìƒì˜ ë ˆë²¨ë“¤ì„ ëª¨ì•„ë†“ì€ ê³³ì…ë‹ˆë‹¤.
      </p>
    </div>

    <!-- ğŸ”½ ë©”ì¸ -->
    <div class="main-container">
      <div class="container">
        <input id="search" type="text" placeholder="ê²€ìƒ‰" />
        <div id="list"></div>
      </div>

      <!-- ìƒì„¸ ì •ë³´ -->
      <div class="detail-panel">
        <div class="detail-title" id="detailTitle"></div>
        <p id="detailCreator" style="font-size:200%"></p>

        <div class="video-wrapper">
          <iframe id="detailVideo" allowfullscreen></iframe>
        </div>

        <div id="detailDescription" class="detail-grid"></div>

        <p style="font-size:90%; color:#aaa; margin-top:10px">
          â€» í”„ë ˆì„ í¼í™íŠ¸ëŠ” ì •í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ â€»
        </p>
      </div>

      <!-- í´ë¦¬ì–´ -->
      <div class="detail-panel clears-panel">
        <div style="height:3.7vw; display:flex; justify-content:center; align-items:center;">
          <span style="font-family:Paperlogy9; font-size:2.5vw">í´ë¦¬ì–´ ëª…ë‹¨</span>
        </div>
        <div id="detailClears" style="margin-top:20px; overflow-y:auto; flex:1"></div>
      </div>
    </div>

    <!-- ğŸ”½ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
      let demonData = [];

      function setDetailTitle(text) {
        const c = document.getElementById('detailTitle');
        c.innerHTML = `<span class="detail-title-inner">${text}</span>`;
      }

      function addSection(title, html) {
        const box = document.getElementById('detailDescription');
        const div = document.createElement('div');
        div.className = 'section';
        div.innerHTML = `<div class="section-title">${title}</div>${html}`;
        box.appendChild(div);
      }

      function showDetail(item) {
        setDetailTitle(item.title);

        document.getElementById('detailCreator').textContent =
          item.creator === item.verifier
            ? `by ${item.creator}`
            : `by ${item.creator} / Verified by ${item.verifier}`;

        document.getElementById('detailVideo').src = item.video || '';

        const box = document.getElementById('detailDescription');
        box.innerHTML = '';

        if (item.map)
          addSection('ë§µ ì •ë³´', `
            <p>ë§µ ID : ${item.map.mapId}</p>
            <p>ê¸¸ì´ : ${item.map.length}</p>
            <p>ì˜¤ë¸Œì íŠ¸ ìˆ˜ : ${item.map.objects?.toLocaleString()}</p>
            <p>ì—…ë¡œë“œ ë‚ ì§œ : ${item.map.uploadDate}</p>`);

        if (item.song)
          addSection('ë…¸ë˜ ì •ë³´', `
            <p>ë…¸ë˜ ì´ë¦„ : ${item.song.name}</p>
            <p>ì‘ê³¡ê°€ : ${item.song.artist}</p>
            <p>ë…¸ë˜ ID : ${item.song.id}</p>`);

        if (item.gameplay)
          addSection('ê²Œì„í”Œë ˆì´', `
            <p>ì£¼ ê²Œì„ëª¨ë“œ : ${item.gameplay.mainMode}</p>
            ${Object.entries(item.gameplay.modeRatio || {}).map(([k,v])=>`<p>${k} : ${v}%</p>`).join('')}
            ${Object.entries(item.gameplay.speedRatio || {}).map(([k,v])=>`<p>${k} ì†ë„ : ${v}%</p>`).join('')}`);

        if (item.framePerfect) {
          const f = item.framePerfect.fps;
          addSection('í”„ë ˆì„ í¼í™íŠ¸', `
            <p>ì´ FP : ${item.framePerfect.total}</p>
            <p>30 FPS : ${f[30] ?? 0}</p>
            <p>60 FPS : ${f[60] ?? 0}</p>
            <p>120 FPS : ${f[120] ?? 0}</p>
            <p>240 FPS : ${f[240] ?? 0}</p>`);
        }

        if (item.tags)
          addSection('íƒœê·¸', item.tags.map(t=>`<span class="tag">#${t}</span>`).join(''));

        const clearBox = document.getElementById('detailClears');
        clearBox.innerHTML = item.clears?.length
          ? item.clears.map((c,i)=>`<p>${i+1}. ${c}</p>`).join('')
          : '<p style="color:#aaa; text-align:center">í´ë¦¬ì–´ ì—†ìŒ</p>';
      }

      function generateList(data) {
        const list = document.getElementById('list');
        list.innerHTML = '';
        data.forEach(item => {
          const div = document.createElement('div');
          div.className = 'item';
          div.innerHTML = `
            <div class="rank">${item.id}</div>
            <div class="info">
              <div class="title">${item.title}</div>
              <div class="creator">by ${item.creator}</div>
            </div>`;
          div.onclick = () => showDetail(item);
          list.appendChild(div);
        });
      }

      fetch('classic.json')
        .then(r=>r.json())
        .then(j=>{
          demonData = j.buttons;
          generateList(demonData);
          if (demonData.length) showDetail(demonData[0]);
        });

      search.oninput = () => {
        const t = search.value.toLowerCase();
        generateList(demonData.filter(d=>d.title.toLowerCase().includes(t)));
      };
    </script>

    <h4>í¬ë ˆë”§</h4>
    <p style="font-size:30px; color:#808080">ì œì‘ : ì´ˆì½”, ì•í‹°</p>
  </body>
</html>





