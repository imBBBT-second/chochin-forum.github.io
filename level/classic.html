<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="user-scalable=no, initial-scale=1.0" />
<title>초친 포럼 (레벨 - 클래식)</title>

<style>
html, body {
  height: 100%;
  margin: 0;
  background: #323232;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}
* { box-sizing: border-box; }

/* ===== Font ===== */
@font-face { font-family: Paperlogy1; src: url('font - paperlogy/Paperlogy-1.ttf'); }
@font-face { font-family: Paperlogy2; src: url('font - paperlogy/Paperlogy-2.ttf'); }
@font-face { font-family: Paperlogy3; src: url('font - paperlogy/Paperlogy-3.ttf'); }
@font-face { font-family: Paperlogy4; src: url('font - paperlogy/Paperlogy-4.ttf'); }
@font-face { font-family: Paperlogy5; src: url('font - paperlogy/Paperlogy-5.ttf'); }
@font-face { font-family: Paperlogy6; src: url('font - paperlogy/Paperlogy-6.ttf'); }
@font-face { font-family: Paperlogy7; src: url('font - paperlogy/Paperlogy-7.ttf'); }
@font-face { font-family: Paperlogy8; src: url('font - paperlogy/Paperlogy-8.ttf'); }
@font-face { font-family: Paperlogy9; src: url('font - paperlogy/Paperlogy-9.ttf'); }

/* ===== Common ===== */
h1 { font-family: Paperlogy7; color:#fff; font-size:170px; text-align:center; }
h4 { font-family: Paperlogy3; color:#a0a0a0; text-align:center; }
p, span { font-family: Paperlogy2; color:#c8c8c8; }
a { color: inherit; text-decoration: none; }

/* ===== Header ===== */
.header-container {
  display:flex;
  justify-content:center;
  gap:5vw;
  padding:2vh 0;
}
.header-btn {
  width:400px;
  font-family:Paperlogy5;
  font-size:clamp(2rem,5vw,5rem);
  background:#323232;
  color:#fff;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

.divider {
  border: 2px solid white;
  width: 100%;
  height: 0;
  margin: 10px 0;
}

/* ===== Layout ===== */
.main-container {
  flex:1;
  display:flex;
  gap:2%;
  padding:2%;
  min-height:700px;
}

.container,
.detail-panel,
.detail-panel.clears-panel {
  min-height: 600px;
}


/* ===== Left List & Right Clears (same size) ===== */
.container,
.detail-panel.clears-panel {
  background:#404040;
  border-radius:10px;
  padding:1.5%;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.container {
  flex: 0 0 25%;
  max-width: 25%;
}

.detail-panel {
  flex: 0 0 50%;
  max-width: 50%;
}

.detail-panel.clears-panel {
  flex: 0 0 25%;
  max-width: 25%;
}


input {
  font-size:18px;
  border-radius:8px;
  border:none;
  padding:8px;
  margin-bottom:10px;
}

/* ===== List Item ===== */
.item {
  display:flex;
  padding: 0.9rem 0.5rem;
  gap: 0.8rem;
  border-bottom:1px solid #777;
  cursor:pointer;
}
.rank {
  font-family: Paperlogy9;
  font-size: 2.2rem;
  width: 3.2rem;
  text-align: center;
  color: #ffffff;
}

.title {
  font-family: Paperlogy7;
  font-size: 1.4rem;
  line-height: 1.3;
  color: #ffffff;
}

.creator {
  font-family: Paperlogy4;
  font-size: 1rem;
  color: #d0d0d0;
}

/* ===== Center Detail ===== */
.detail-panel {
  flex:1;
  background:#505050;
  border-radius:10px;
  padding:2%;
  display:flex;
  flex-direction:column;
  overflow-y:auto;
}

.detail-header {
  display: flex;
  flex-direction: column;
  align-items: center;   /* 핵심 */
  text-align: center;
  margin-bottom: 10px;
}

#detailCreator {
  font-family: Paperlogy4;
  font-size: 1.6rem;
  color: #c8c8c8;
  margin-top: 4px;
}

.detail-title {
  font-family: Paperlogy9;
  font-size: 4.8rem;
  color: #ffffff;
  line-height: 1.1;
  text-align: center;
  white-space: nowrap;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ===== Video ===== */
.video-wrapper {
  position:relative;
  width:100%;
  padding-top:56.25%;
}
.video-wrapper iframe {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:none;
}

/* ===== Section ===== */
.section {
  background:#444;
  border-radius:8px;
  padding:12px;
  margin-top:12px;
}
.section-title {
  font-family:Paperlogy6;
  font-size:22px;
  color:#fff;
  margin-bottom:8px;
}

.section p {
  color: #c8c8c8;
  font-family: Paperlogy3;
  font-size: 1rem;
}


#list {
  flex: 1;
  overflow-y: auto;
}

/* ===== Bar Graph ===== */
.bar-row {
  display:flex;
  align-items:center;
  gap:10px;
  margin:6px 0;
}
.bar-label {
  width:80px;
  font-family:Paperlogy4;
  font-size:15px;
}
.bar-bg {
  flex:1;
  height:10px;
  background:#666;
  border-radius:5px;
  overflow:hidden;
}
.bar-fill {
  height:100%;
  background:#ddd;
}
.bar-value {
  width:60px;
  text-align:right;
  font-family:Paperlogy3;
  font-size:14px;
}

/* ===== Clears ===== */
#detailClears {
  flex:1;
  overflow-y:auto;
}
</style>
</head>

<body>

<div class="header-container">
  <button class="header-btn">홈</button>
  <button class="header-btn" style="font-family:Paperlogy9">레벨</button>
  <button class="header-btn">하디스트</button>
</div>

<div class="divider"></div>


<h1>Classic</h1>

<div class="main-container">
  <!-- Left -->
  <div class="container">
    <input id="search" placeholder="검색" />
    <div id="list" style="overflow-y:auto"></div>
  </div>

  <!-- Detail -->
  <div class="detail-panel">
    <div class="detail-header">
      <div class="detail-title" id="detailTitle"></div>
      <p id="detailCreator"></p>
    </div>
  

    <div class="video-wrapper">
      <iframe id="detailVideo" allowfullscreen></iframe>
    </div>

    <div id="detailDescription"></div>
  </div>

  <!-- Clears -->
  <div class="detail-panel clears-panel">
    <div style="font-family:Paperlogy9;font-size:32px;text-align:center">클리어 명단</div>
    <div id="detailClears"></div>
  </div>
</div>

<script>
let demonData = [];

function barRow(label, value) {
  const v = Number(value);
  if (isNaN(v)) return '';
  return `
    <div class="bar-row">
      <span class="bar-label">${label}</span>
      <div class="bar-bg">
        <div class="bar-fill" style="width:${v}%"></div>
      </div>
      <span class="bar-value">${v}%</span>
    </div>`;
}

function addSection(title, html) {
  detailDescription.innerHTML += `
    <div class="section">
      <div class="section-title">${title}</div>
      ${html}
    </div>`;
}

function drawRatioGraph(targetId, data) {
  const box = document.getElementById(targetId);
  box.innerHTML = '';

  Object.entries(data || {}).forEach(([key, value]) => {
    const row = document.createElement('div');
    row.className = 'bar-row';
    row.innerHTML = `
      <span>${key}</span>
      <div class="bar">
        <div class="bar-fill" style="width:${value}%"></div>
      </div>
      <span>${value}%</span>
    `;
    box.appendChild(row);
  });
}


function showDetail(item) {
  detailTitle.textContent = item.title;
  detailCreator.textContent =
    item.creator === item.verifier
      ? `by ${item.creator}`
      : `by ${item.creator} / Verified by ${item.verifier}`;

  detailVideo.src = item.video || '';
  detailDescription.innerHTML = '';

  if (item.gameplay) {
  addSection(
    '게임플레이',
    `
    <div class="info-row">
      <p>주 게임모드 : ${item.gameplay.mainMode}</p>
    </div>

    <div class="graph-box" id="modeGraph"></div>
    <div class="graph-box" id="speedGraph"></div>
    `
  );

  drawRatioGraph('modeGraph', item.gameplay.modeRatio);
  drawRatioGraph('speedGraph', item.gameplay.speedRatio);
}

  if (item.framePerfect) {
    addSection('프레임 퍼펙트',
      Object.entries(item.framePerfect.fps || {})
        .map(([k,v]) => barRow(`${k}fps`, (v / item.framePerfect.total)*100))
        .join('')
    );
  }

  detailClears.innerHTML = item.clears?.length
    ? item.clears.map((c,i)=>`<p>${i+1}. ${c}</p>`).join('')
    : '<p style="color:#aaa;text-align:center">클리어 없음</p>';
}


fetch('classic.json')
  .then(r=>r.json())
  .then(j=>{
    demonData = j.buttons;
    demonData.forEach(d=>{
      const div = document.createElement('div');
      div.className='item';
      div.innerHTML=`<div class="rank">${d.id}</div><div><div class="title">${d.title}</div><div class="creator">by ${d.creator}</div></div>`;
      div.onclick=()=>showDetail(d);
      list.appendChild(div);
    });
    showDetail(demonData[0]);
  });
</script>

</body>
</html>










