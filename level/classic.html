<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <title>ì´ˆì¹œ í¬ëŸ¼ (ë ˆë²¨ - í´ë˜ì‹)</title>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        color: inherit;
        font-family: inherit;
      }

      html, body {
        min-height: 100vh;
        background-color: #323232;
        color: #eaeaea;
        font-family: Paperlogy4;
      }

      @font-face { font-family: Paperlogy1; src: url('font - paperlogy/Paperlogy-1.ttf'); }
      @font-face { font-family: Paperlogy2; src: url('font - paperlogy/Paperlogy-2.ttf'); }
      @font-face { font-family: Paperlogy3; src: url('font - paperlogy/Paperlogy-3.ttf'); }
      @font-face { font-family: Paperlogy4; src: url('font - paperlogy/Paperlogy-4.ttf'); }
      @font-face { font-family: Paperlogy5; src: url('font - paperlogy/Paperlogy-5.ttf'); }
      @font-face { font-family: Paperlogy6; src: url('font - paperlogy/Paperlogy-6.ttf'); }
      @font-face { font-family: Paperlogy7; src: url('font - paperlogy/Paperlogy-7.ttf'); }
      @font-face { font-family: Paperlogy8; src: url('font - paperlogy/Paperlogy-8.ttf'); }
      @font-face { font-family: Paperlogy9; src: url('font - paperlogy/Paperlogy-9.ttf'); }

      h1 {
        font-family: Paperlogy7;
        font-size: 170px;
        color: #ffffff;
        text-align: center;
      }

      p {
        font-family: Paperlogy3;
        color: #d0d0d0;
      }

      a { text-decoration: none; color: inherit; }

      .header-container {
        display: flex;
        justify-content: center;
        gap: 5vw;
        padding: 2vh 0;
      }

      .header-btn {
        background-color: #323232;
        font-size: clamp(2rem, 5vw, 5rem);
        border: none;
        border-radius: 10px;
        padding: 1.5vh 3vw;
        cursor: pointer;
        font-family: Paperlogy5;
        color: #fff;
      }

      .divider {
        border: 2px solid white;
        margin: 10px 0;
      }

      /* ğŸ”¥ ì—¬ê¸°ë¶€í„° í•µì‹¬ */
      .main-container {
        display: flex;
        gap: 2%;
        padding: 2%;
        height: calc(100vh - 350px);
      }

      .container {
        flex: 0 0 30%;
        background: #404040;
        padding: 1.5%;
        border-radius: 10px;
        overflow-y: auto;
      }

      .detail-panel {
        flex: 0 0 45%;
        background: #505050;
        padding: 2%;
        border-radius: 10px;
        overflow-y: auto;
      }

      .detail-panel.clears-panel {
        flex: 0 0 25%;
      }

      .item {
        display: flex;
        gap: 12px;
        padding: 12px;
        border-bottom: 1px solid #666;
        cursor: pointer;
      }

      .rank {
        font-family: Paperlogy8;
        font-size: 1.6vw;
        width: 15%;
        text-align: center;
        color: #fff;
      }

      .title {
        font-family: Paperlogy5;
        font-size: 1.4vw;
        color: #fff;
      }

      .creator {
        font-family: Paperlogy3;
        font-size: 1vw;
        color: #ccc;
      }
    </style>
  </head>

  <body>
    <div class="header-container">
      <button class="header-btn">í™ˆ</button>
      <button class="header-btn">ë ˆë²¨</button>
      <button class="header-btn">í•˜ë””ìŠ¤íŠ¸</button>
    </div>

    <div class="divider"></div>

    <h1>Classic</h1>

    <div class="main-container">
      <div class="container" id="list"></div>
      <div class="detail-panel" id="detailDescription"></div>
      <div class="detail-panel clears-panel" id="detailClears"></div>
    </div>

<script>
let demonData = [];

function bar(name, value) {
  return `
  <div class="bar-row">
    <span>${name}</span>
    <div class="bar-bg"><div class="bar-fill" style="width:${value}%"></div></div>
    <span>${value}%</span>
  </div>`;
}

function showDetail(item) {
  detailTitle.innerHTML = `<span class="detail-title-inner">${item.title}</span>`;
  detailCreator.textContent =
    item.creator === item.verifier
    ? `by ${item.creator}`
    : `by ${item.creator} / Verified by ${item.verifier}`;

  detailVideo.src = item.video || '';
  detailDescription.innerHTML = '';

  if (item.map) {
    detailDescription.innerHTML += `
    <div class="section">
      <div class="section-title">ë§µ ì •ë³´</div>
      <div class="info-row"><span>ID</span><span>${item.map.mapId}</span></div>
      <div class="info-row"><span>ê¸¸ì´</span><span>${item.map.length}</span></div>
      <div class="info-row"><span>ì˜¤ë¸Œì íŠ¸</span><span>${item.map.objects}</span></div>
      <div class="info-row"><span>ì—…ë¡œë“œ</span><span>${item.map.uploadDate}</span></div>
    </div>`;
  }

  if (item.gameplay) {
    detailDescription.innerHTML += `
    <div class="section">
      <div class="section-title">ê²Œì„í”Œë ˆì´</div>
      ${Object.entries(item.gameplay.modeRatio||{}).map(([k,v])=>bar(k,v)).join('')}
      ${Object.entries(item.gameplay.speedRatio||{}).map(([k,v])=>bar(k,v)).join('')}
    </div>`;
  }

  if (item.framePerfect) {
    const f = item.framePerfect.fps || {};
    detailDescription.innerHTML += `
    <div class="section">
      <div class="section-title">í”„ë ˆì„ í¼í™íŠ¸</div>
      <div class="fp-bars">
        ${[30,60,120,240].map(n=>`
          <div class="fp-bar" style="height:${Math.max((f[n]||0)*3,6)}px">
            ${n}<br>${f[n]||0}
          </div>`).join('')}
      </div>
    </div>`;
  }

  detailClears.innerHTML = item.clears?.length
    ? item.clears.map((c,i)=>`<p>${i+1}. ${c}</p>`).join('')
    : '<p style="color:#aaa;text-align:center">í´ë¦¬ì–´ ì—†ìŒ</p>';
}

function generateList(data) {
  list.innerHTML = '';
  data.forEach(item=>{
    const div = document.createElement('div');
    div.className = 'item';
    div.innerHTML = `
      <div class="rank">${item.id}</div>
      <div>
        <div class="title">${item.title}</div>
        <div class="creator">by ${item.creator}</div>
      </div>`;
    div.onclick = ()=>showDetail(item);
    list.appendChild(div);
  });
}

fetch('classic.json')
  .then(r=>r.json())
  .then(j=>{
    demonData = j.buttons;
    generateList(demonData);
    if (demonData.length) showDetail(demonData[0]);
  });

search.oninput = ()=>{
  const t = search.value.toLowerCase();
  generateList(demonData.filter(d=>d.title.toLowerCase().includes(t)));
};
</script>

</body>
</html>


